nav.navbar.navbar-inverse.navbar-fixed-top
  .container
    .navbar-header
      button.navbar-toggle.collapsed(type='button', data-toggle='collapse', data-target='#navbar', aria-expanded='false', aria-controls='navbar')
        span.sr-only Toggle navigation
        span.icon-bar
        span.icon-bar
        span.icon-bar
      a.navbar-brand(href='/#/') Go and Do
    #navbar.collapse.navbar-collapse
      ul.nav.navbar-nav.navbar-right
        li.active
          a(href='/#/invites') Invites
        li
          a(href='/#/loggedin') Profile
        //- li
        //-   a(href='/#/happenings') Happenings
        li(ng-controller='FaceCtrl')
          a(href='' ng-click='logout()') Log out
.container
  .someDiv(ng-controller="EventCtrl" ng-init="loggedInUser && updateCalendarAndGetInvites(loggedInUser)")
    h1 Your Invites
    //- button.btn.btn-info(ng-click="updateCalendarAndGetInvites(loggedInUser)") updateCalendarAndGetInvites(loggedInUser);
    table.table
      thead
        tr
          th Interest
          th Day
          th Time
          th # Confirmed
          th # Needed
          th # Invited
          th # Declined
          th Minimum
          th Maximum
          th
          th
      tbody
        tr(ng-repeat="invite in invites | filter: filterInvites" ng-class="{'invite-confirmed': invite.userStatus === 'confirmed',\
                                                    'bg-danger': invite.status === 'full',\
                                                    'bg-success': invite.status === 'confirmed',\
                                                    'bg-info': invite.status === 'needsConf',\
                                                    'bg-warning': invite.status === 'needsInterest',\
                                                    'bg-warning': invite.status === 'tooManyDeclines'}")
          td {{invite.interest}}
          td {{invite.day}}
          td {{invite.time}}
          td {{invite.confirmedNum}}
          td {{invite.neededNum}}
          td {{invite.invitedNum}}
          td {{invite.declinedNum}}
          td {{invite.minPeople}}
          td {{invite.maxPeople}}
          td.button-td
            div(ng-hide="invite.userStatus === 'confirmed' || invite.userStatus === 'declined'")
              button.btn.btn-success(ng-click="confirm(invite, $index); invite.userStatus = 'confirmed'" ng-disabled="invite.status === 'full'") Confirm
              button.btn.btn-danger(ng-click="decline(invite, $index); invite.userStatus = 'declined'" ng-disabled="invite.status === 'full'") Decline
            div(ng-show="invite.userStatus === 'confirmed'")
              button.btn.btn-danger(ng-click="unConfirm(invite, $index); invite.userStatus = 'invited'") Un-confirm
            div(ng-show="invite.userStatus === 'declined'")
              button.btn.btn-info(ng-click="unDecline(invite, $index); invite.userStatus = 'invited'") Un-decline
          td
            div
              button.btn.btn-default.email-button(ng-class="{'btn-primary': invite.messageNum > 0}" aria-label="Messages")
                span.glyphicon.glyphicon-envelope(aria-hidden="true")

              //-     a(href="#" ng-click="showMessages = !showMessages") ({{Object.keys(inviteObj.messages).length}})
              //-     a(href="#" ng-click="showNewMessageForm") Send Message
              //- tr(ng-show="showMessages")
              //-   ul
              //-     li(ng-repeat="(messageIndex, message) in inviteObj.messages")
              //-       p {{message.sender}}
              //-       p {{message.time}}
              //-       p {{message.body}}
              //-     li
              //-       a(href="#" ng-click="showMessages = !showMessages") Hide
              //- tr(ng-show="showNewMessageForm")
              //-   form
              //-     input(type="text" ng-model="inviteObj.newMessage")
              //-   button(ng-click="sendMessage(inviteObj.newMessage)") Post
              //-   button(ng-click="showNewMessageForm = !showNewMessageForm") Cancel

