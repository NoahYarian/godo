nav.navbar.navbar-inverse.navbar-fixed-top
  .container
    .navbar-header
      button.navbar-toggle.collapsed(type='button', data-toggle='collapse', data-target='#navbar', aria-expanded='false', aria-controls='navbar')
        span.sr-only Toggle navigation
        span.icon-bar
        span.icon-bar
        span.icon-bar
      a.navbar-brand(href='/#/') Go and Do
    #navbar.collapse.navbar-collapse
      ul.nav.navbar-nav.navbar-right
        li.active
          a(href='/#/invites') Invites
        li
          a(href='/#/loggedin') Profile
        //- li
        //-   a(href='/#/happenings') Happenings
        li(ng-controller='FaceCtrl')
          a(href='' ng-click='logout()') Log out
.container
  .someDiv(ng-controller="EventCtrl" ng-init="loggedInUser && updateCalendarAndGetInvites(loggedInUser)")
    h1 Your Invites
    //- button.btn.btn-info(ng-click="updateCalendarAndGetInvites(loggedInUser)") updateCalendarAndGetInvites(loggedInUser);
    table.table-hover
      thead
        tr
          th Interest
          th Day
          th Time
          th # Confirmed
          th # Needed
          th # Invited
          th # Declined
          th Minimum
          th Maximum
          th
      tbody
        tr(ng-repeat="invite in invites" ng-class="{'row-confirmed': hasConfirmed && invite.neededNum === 0}")
          td {{invite.interest}}
          td {{invite.day}}
          td {{invite.time}}
          td {{invite.confirmedNum}}
          td {{invite.neededNum}}
          td {{invite.invitedNum}}
          td {{invite.declinedNum}}
          td {{invite.minPeople}}
          td {{invite.maxPeople}}
          td.button-td
            div(ng-hide="invite.userStatus === 'confirmed' || invite.userStatus === 'declined'")
              button.btn.btn-success(ng-click="confirm(invite); invite.userStatus = 'confirmed'") Confirm
              button.btn.btn-danger(ng-click="decline(invite); invite.userStatus = 'declined'") Decline
            div(ng-show="invite.userStatus === 'confirmed'")
              button.btn.btn-danger(ng-click="unConfirm(invite); invite.userStatus = 'invited'") Un-confirm
            div(ng-show="invite.userStatus === 'declined'")
              button.btn.btn-info(ng-click="unDecline(invite); invite.userStatus = 'invited'") Un-decline
            div
              button(type="button" class="btn btn-default email-button" ng-class="{'btn-primary': invite.messageNum > 0}" aria-label="Messages")
                span.glyphicon.glyphicon-envelope(aria-hidden="true")
//- td Needed #
              //- td Confirmed #
              //- td Declined #
              //-   td
              //-     a(href="#" ng-click="confirm(halfHoursObj)") Confirm /
              //-     a(href="#" ng-click="decline(halfHoursObj)") Decline
              //-   td
              //-     a(href="#" ng-click="showMessages = !showMessages") ({{Object.keys(inviteObj.messages).length}})
              //-     a(href="#" ng-click="showNewMessageForm") Send Message
              //- tr(ng-show="showMessages")
              //-   ul
              //-     li(ng-repeat="(messageIndex, message) in inviteObj.messages")
              //-       p {{message.sender}}
              //-       p {{message.time}}
              //-       p {{message.body}}
              //-     li
              //-       a(href="#" ng-click="showMessages = !showMessages") Hide
              //- tr(ng-show="showNewMessageForm")
              //-   form
              //-     input(type="text" ng-model="inviteObj.newMessage")
              //-   button(ng-click="sendMessage(inviteObj.newMessage)") Post
              //-   button(ng-click="showNewMessageForm = !showNewMessageForm") Cancel

